{"version":3,"file":"static/js/38.7247921f.chunk.js","mappings":"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","sources":["webpack://my-app/./src/pages/Footer/Footer.module.css?f417","pages/Footer/Footer.tsx","webpack://my-app/./src/pages/Profile/UserProfile/UserProfile.module.css?ef07","pages/Profile/UserProfile/UserProfile.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"footerContainer\":\"Footer_footerContainer__jO6Wp\",\"infoText\":\"Footer_infoText__utR+1\",\"icon\":\"Footer_icon__gc2Fx\",\"films\":\"Footer_films__lghla\",\"copyright\":\"Footer_copyright__eg7nf\"};","import react from 'react'; \r\nimport s from './Footer.module.css'\r\n\r\nexport const Footer = () => {\r\n  \r\n\r\n    return <div className={s.footerContainer}>\r\n        <h3 className={s.infoText}>Info:</h3>\r\n        <a className={s.icon} href=\"https://www.instagram.com/plitka_dest.crew?igsh=MXA2cTd0ejdvdzFlaA==\">\r\n          <svg\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            width=\"24\"\r\n            height=\"24\"\r\n            viewBox=\"0 0 24 24\"\r\n            fill=\"none\"\r\n          >\r\n            <path\r\n              d=\"M7.8 2.00002H16.2C19.4032 2.00002 22 4.59677 22 7.80002V16.2C22 19.4033 19.4032 22 16.2 22H7.8C4.59675 22 2 19.4033 2 16.2V7.80002C2 4.59677 4.59675 2.00002 7.8 2.00002ZM7.6 4C5.61177 4 4 5.61178 4 7.6V16.4C4 18.3882 5.61177 20 7.6 20H16.4C18.3882 20 20 18.3882 20 16.4V7.6C20 5.61178 18.3882 4 16.4 4H7.6ZM17.25 5.5C17.9404 5.5 18.5 6.05965 18.5 6.75C18.5 7.44036 17.9404 8 17.25 8C16.5596 8 16 7.44036 16 6.75C16 6.05965 16.5596 5.5 17.25 5.5ZM12 7C14.7614 7 17 9.23858 17 12C17 14.7614 14.7614 17 12 17C9.23857 17 7 14.7614 7 12C7 9.23858 9.23857 7 12 7ZM12 9C10.3431 9 9 10.3432 9 12C9 13.6569 10.3431 15 12 15C13.6569 15 15 13.6569 15 12C15 10.3432 13.6569 9 12 9Z\"\r\n              fill=\"black\"\r\n            />\r\n          </svg>\r\n        </a>\r\n        <a className={s.films} href={'https://youtu.be/BuxEPJ8bDXU?si=4CJHaZ_YzrBjw335'}>\r\n        <h2>Films</h2>\r\n        </a>\r\n        <h2>Пн—Вс 10:00—21:00 </h2>\r\n        \r\n        <h2>Т. +375 (29) 715 55 40</h2>\r\n        <div className={s.copyright}>Copyright © 2025 Plitka</div>\r\n    </div>\r\n}","// extracted by mini-css-extract-plugin\nexport default {\"personalAccount\":\"UserProfile_personalAccount__6PQKb\",\"emptyOrdersContainer\":\"UserProfile_emptyOrdersContainer__+jsmu\",\"userProfileContainer\":\"UserProfile_userProfileContainer__p420J\",\"orderTitle\":\"UserProfile_orderTitle__Or4Gi\",\"ordersList\":\"UserProfile_ordersList__wIDC0\",\"orderItem\":\"UserProfile_orderItem__Zi3vs\",\"orderItemTitle\":\"UserProfile_orderItemTitle__TUjRc\",\"buttonContainer\":\"UserProfile_buttonContainer__ni4YS\",\"button\":\"UserProfile_button__lVlwn\",\"totalPrice\":\"UserProfile_totalPrice__Pz0IU\",\"image\":\"UserProfile_image__uhJ2f\",\"modal\":\"UserProfile_modal__iwyDL\",\"modalContent\":\"UserProfile_modalContent__J38vE\",\"fadeIn\":\"UserProfile_fadeIn__L0QI8\",\"modalButtons\":\"UserProfile_modalButtons__ohO7e\"};","import React, { useEffect, useState } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { Footer } from \"../../Footer/Footer\";\r\nimport { AppDispatch, RootState } from \"../../../store/store\";\r\nimport { Header } from \"../../../shared/components/Header/Header\";\r\nimport { deleteOrder, getOrders } from \"./orderSlice\";\r\nimport s from \"./UserProfile.module.css\";\r\n\r\ntype OrderItem = {\r\n  title: string;\r\n  newPrice: string;\r\n  img: string;\r\n  company: string;\r\n  color: string;\r\n  quantity: number;\r\n};\r\n\r\ntype Order = {\r\n  _id: string;\r\n  items: OrderItem[];\r\n  totalPrice: number;\r\n};\r\n\r\nconst UserProfile = () => {\r\n  const dispatch = useDispatch<AppDispatch>();\r\n  const orders = useSelector((state: RootState) => state.orders.orders as Order[]);\r\n\r\n  const [isOrderDeleted, setIsOrderDeleted] = useState(false); //Что бы срабатывал только при удалении заказа\r\n  const [isModalOpenForOrder, setIsModalOpenForOrder] = useState<{ [key: string]: boolean }>({});\r\n\r\n  const updateIsModalOpenForOrder = (orderId: string, isOpen: boolean) => {\r\n    setIsModalOpenForOrder((prev) => ({ ...prev, [orderId]: isOpen }));\r\n  };\r\n\r\n  const isModalOpenForOrderId = (orderId: string) => isModalOpenForOrder[orderId];\r\n\r\n  useEffect(() => {\r\n    const userEmail = localStorage.getItem(\"userEmail\");\r\n    if (userEmail) {\r\n      dispatch(getOrders(userEmail));\r\n    }\r\n  }, [isOrderDeleted, dispatch]); //зависимость isOrderDeleted обновится если удалится товар и тогда перерисует обновлённые товары\r\n\r\n  useEffect(() => {\r\n    if (isOrderDeleted) {\r\n      setIsOrderDeleted(false);\r\n    }\r\n  }, [isOrderDeleted]);\r\n\r\n  const handleDeleteOrder = (orderId: string) => {\r\n    dispatch(deleteOrder(orderId));\r\n    setIsOrderDeleted(true);\r\n  };\r\n\r\n  const formatOrderId = (id: string) => id.slice(-5);\r\n\r\n  return (\r\n    <div>\r\n      <Header />\r\n      <h1 className={s.personalAccount}>Личный кабинет</h1>\r\n      {orders.length === 0 ? (\r\n        <div className={s.emptyOrdersContainer}>\r\n          <h2>Вы еще не заказали ничего</h2>\r\n          <p>Пожалуйста, сделайте заказ, чтобы увидеть его здесь</p>\r\n        </div>\r\n      ) : (\r\n        orders.map((order: Order) => (\r\n          <div key={order._id} className={s.userProfileContainer}>\r\n            <h1 className={s.orderTitle}>Заказ №{formatOrderId(order._id)}</h1>\r\n            {order.items.map((item: OrderItem) => (\r\n              <div key={item.img} className={s.orderItem}>\r\n                <img className={s.image} src={item.img}></img>\r\n                <div className={s.orderItemTitle}>\r\n                  <p>\r\n                    Товар {order.items.indexOf(item) + 1}: {item.title}\r\n                  </p>\r\n                  <p>Цена: {item.newPrice}byn</p>\r\n                  <p>Количество: {item.quantity}</p>\r\n                </div>\r\n              </div>\r\n            ))}\r\n            <div className={s.buttonContainer}>\r\n              <b className={s.totalPrice}>\r\n                Итоговая цена: {order.totalPrice}byn\r\n              </b>\r\n              <button className={s.button} onClick={() => updateIsModalOpenForOrder(order._id, true)}>\r\n                Отменить заказ\r\n              </button>\r\n            </div>\r\n            {isModalOpenForOrderId(order._id) && (\r\n              <div className={s.modal}>\r\n                <div className={s.modalContent}>\r\n                  <h2>Вы дейсивительно хотите отменить заказ?</h2>\r\n\r\n                  <div className={s.modalButtons}>\r\n                    <button\r\n                      onClick={() => {\r\n                        handleDeleteOrder(order._id);\r\n                        updateIsModalOpenForOrder(order._id, false);\r\n                      }}\r\n                    >\r\n                      Отменить заказ\r\n                    </button>\r\n                    <button type=\"button\" onClick={() => updateIsModalOpenForOrder(order._id, false)}>\r\n                      Закрыть\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        ))\r\n      )}\r\n      <Footer />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserProfile;"],"names":["Footer","_jsxs","className","s","children","_jsx","href","xmlns","width","height","viewBox","fill","d","UserProfile","dispatch","useDispatch","orders","useSelector","state","isOrderDeleted","setIsOrderDeleted","useState","isModalOpenForOrder","setIsModalOpenForOrder","updateIsModalOpenForOrder","orderId","isOpen","prev","useEffect","userEmail","localStorage","getItem","getOrders","Header","length","map","order","id","_id","slice","items","item","src","img","indexOf","title","newPrice","quantity","totalPrice","onClick","deleteOrder","handleDeleteOrder","type"],"sourceRoot":""}