"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[20],{3020:(e,s,t)=>{t.r(s),t.d(s,{default:()=>q});var l=t(9867),c=t(398),a=t(581);const n="Busket_busketContainer__Mbrhv",i="Busket_busketDescription__93G1Q",r="Busket_itemBorder__JRyrO",d="Busket_tovar__v9Bwc",o="Busket_tovar1__4FyVv",u="Busket_itogo__OZfo+",_="Busket_cena__m2lmY",h="Busket_colvo__x254F",m="Busket_quantity__4Fw0I",x="Busket_products__LnhlC",j="Busket_threeDescription__Mn0Jm",v="Busket_titleDeck__Pc5-0",b="Busket_generalPriceAndButtons__eU0le",N="Busket_generalPrice__LzVRl",k="Busket_buttonsContainer__uXB-I",p="Busket_countButtonsMobile__P7b2r",B="Busket_titleAndCountMobile__EIBV2",y="Busket_generalPriceAndButtonsMobile__-IfQD",C="Busket_generalPriceMobile__OKeR1",g="Busket_buttonsContainerMobile__B0kAg",S="Busket_button__K1NmM",f="Busket_disabledButton__ydkLQ",M="Busket_buttonPlusMinus__x2vhI",P="Busket_modal__u4V9N",I="Busket_modalContent__XI9LA",w="Busket_modalButtons__EutkJ";var O=t(4436),E=t(7575);const A={modal:"OrderSuccessModal_modal__TYxap",modalContent:"OrderSuccessModal_modalContent__w7mbE",fadeIn:"OrderSuccessModal_fadeIn__+SOCA"};var L=t(2834);const V=e=>{let{isOpen:s,onClose:t}=e;return s?(0,L.jsx)("div",{className:A.modal,children:(0,L.jsxs)("div",{className:A.modalContent,children:[(0,L.jsx)("h2",{children:"\u0417\u0430\u043a\u0430\u0437 \u043e\u0444\u043e\u0440\u043c\u043b\u0435\u043d!"}),(0,L.jsx)("p",{children:"\u0412\u0430\u043c \u043f\u0435\u0440\u0435\u0437\u0432\u043e\u043d\u0438\u0442 \u043d\u0430\u0448 \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440 \u0432 \u0442\u0435\u0447\u0435\u043d\u0438\u0435 5 \u043c\u0438\u043d\u0443\u0442."}),(0,L.jsx)("button",{type:"button",className:A.button,onClick:t,children:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"})]})}):null},q=()=>{const e=(0,O.I0)(),s=(0,O.v9)((e=>e.cart.items)),t=(0,O.v9)((e=>e.cart.totalPrice)),A=(0,c.useMediaQuery)({query:"(max-width: 768px)"}),[q,D]=(0,l.useState)(!1),[F,J]=(0,l.useState)(""),[Q,R]=(0,l.useState)(""),[z,G]=(0,l.useState)(!1),[K,T]=(0,l.useState)(!1),[X,Y]=(0,l.useState)(!1);(0,l.useEffect)((()=>{e((0,E.uT)())}),[s,e]),(0,l.useEffect)((()=>{const s=localStorage.getItem("cart");if(s){const t=JSON.parse(s);e((0,E.RV)(t))}}),[e]);const U=()=>{e((0,E.LL)())},Z=s=>{e((0,E.zp)(s.title))},H=s=>{e((0,E.uG)(s.title))};return console.log(s),(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(a.h,{}),A?(0,L.jsxs)("div",{className:n,children:[(0,L.jsx)("h1",{children:"\u041a\u043e\u0440\u0437\u0438\u043d\u0430"}),(0,L.jsx)("div",{children:s.map(((e,s)=>(0,L.jsxs)("div",{className:"".concat(x," ").concat(r),children:[(0,L.jsx)("div",{className:o,children:(0,L.jsx)("img",{className:d,src:e.img,alt:e.title})}),(0,L.jsxs)("div",{className:B,children:[(0,L.jsx)("div",{className:v,children:e.title}),(0,L.jsxs)("div",{className:p,children:[(0,L.jsx)("button",{type:"button",className:M,onClick:()=>H(e),children:"-"}),(0,L.jsx)("h2",{className:m,children:e.quantity}),(0,L.jsx)("button",{type:"button",className:M,onClick:()=>Z(e),children:"+"})]})]}),(0,L.jsxs)("div",{className:u,children:[e.totalPrice,"byn"]})]},"".concat(e.title,"-").concat(e.newPrice,"-").concat(e.img))))}),(0,L.jsxs)("div",{className:y,children:[(0,L.jsxs)("div",{className:C,children:["C\u0443\u043c\u043c\u0430 \u0442\u043e\u0432\u0430\u0440\u043e\u0432: ",(0,L.jsxs)("b",{children:[t,"byn"]})]}),(0,L.jsxs)("div",{className:g,children:[(0,L.jsx)("button",{type:"button",className:S,onClick:U,children:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u043a\u043e\u0440\u0437\u0438\u043d\u0443"}),(0,L.jsx)("button",{type:"button",className:s.length>0?S:"".concat(S," ").concat(f),onClick:()=>D(!0),disabled:0===s.length,children:"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437"})]})]})]}):(0,L.jsxs)("div",{className:n,children:[(0,L.jsx)("h1",{children:"\u041a\u043e\u0440\u0437\u0438\u043d\u0430"}),(0,L.jsxs)("div",{className:i,children:[(0,L.jsx)("div",{className:d,children:"\u0422\u043e\u0432\u0430\u0440"}),(0,L.jsxs)("div",{className:j,children:[(0,L.jsx)("div",{className:_,children:"\u0426\u0435\u043d\u0430"}),(0,L.jsx)("div",{className:h,children:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"}),(0,L.jsx)("div",{className:u,children:"\u0418\u0442\u043e\u0433\u043e"})]})]}),(0,L.jsx)("div",{children:s.map(((e,s)=>(0,L.jsxs)("div",{className:"".concat(x," ").concat(r),children:[(0,L.jsxs)("div",{className:o,children:[(0,L.jsx)("img",{className:d,src:e.img,alt:e.title}),(0,L.jsx)("div",{className:v,children:e.title})]}),(0,L.jsxs)("div",{className:j,children:[(0,L.jsxs)("div",{className:_,children:[e.newPrice,"byn"]}),(0,L.jsxs)("div",{className:h,children:[(0,L.jsx)("button",{type:"button",className:M,onClick:()=>H(e),children:"-"}),(0,L.jsx)("h2",{className:m,children:e.quantity}),(0,L.jsx)("button",{type:"button",className:M,onClick:()=>Z(e),children:"+"})]}),(0,L.jsxs)("div",{className:u,children:[e.totalPrice,"byn"]})]})]},s)))}),(0,L.jsxs)("div",{className:b,children:[(0,L.jsxs)("div",{className:N,children:["C\u0443\u043c\u043c\u0430 \u0442\u043e\u0432\u0430\u0440\u043e\u0432: ",(0,L.jsxs)("b",{children:[t,"byn"]})]}),(0,L.jsxs)("div",{className:k,children:[(0,L.jsx)("button",{type:"button",className:S,onClick:U,children:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u043a\u043e\u0440\u0437\u0438\u043d\u0443"}),(0,L.jsx)("button",{type:"button",className:s.length>0?S:"".concat(S," ").concat(f),onClick:()=>D(!0),disabled:0===s.length,children:"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437"})]})]})]}),q&&(0,L.jsx)("div",{className:P,children:(0,L.jsxs)("div",{className:I,children:[(0,L.jsx)("h2",{children:"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437"}),(0,L.jsxs)("label",{children:["\u0418\u043c\u044f:",(0,L.jsx)("input",{type:"text",value:F,onChange:e=>{J(e.target.value),""===e.target.value?G(!0):G(!1)}}),z&&(0,L.jsx)("span",{style:{color:"red"},children:"\u041f\u043e\u043b\u0435 \u043d\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e"})]}),(0,L.jsxs)("label",{children:["\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430:",(0,L.jsx)("input",{type:"text",value:Q,onChange:e=>{const s=e.target.value.replace(/[^0-9+()-]/g,"");R(s),T(""===s)}}),K&&(0,L.jsx)("span",{style:{color:"red"},children:"\u041f\u043e\u043b\u0435 \u043d\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e"})]}),(0,L.jsxs)("div",{className:w,children:[(0,L.jsx)("button",{type:"button",onClick:async()=>{if(""===F||""===Q)return G(""===F),void T(""===Q);const l=localStorage.getItem("userEmail"),c={items:s,totalPrice:t,userEmail:l,name:F,phone:Q};try{await e((0,E.s1)(c)).unwrap();Y(!0),U(),D(!1),localStorage.removeItem("cart")}catch(a){console.error("\u041e\u0448\u0438\u0431\u043a\u0430:",a),alert("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0444\u043e\u0440\u043c\u043b\u0435\u043d\u0438\u0438 \u0437\u0430\u043a\u0430\u0437\u0430.")}},disabled:z||K,className:z||K?"".concat(S," ").concat(f):S,children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"}),(0,L.jsx)("button",{type:"button",onClick:()=>D(!1),children:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"})]})]})}),X&&(0,L.jsx)(V,{isOpen:X,onClose:()=>Y(!1)})]})}}}]);
//# sourceMappingURL=20.c0eee69b.chunk.js.map